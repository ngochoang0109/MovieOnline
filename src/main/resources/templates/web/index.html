<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
>
<head th:replace="web/layout/head :: head">
</head>
<body>
<header th:replace="web/layout/header :: header">
</header>
<!-- hero section -->
<div class="">
    <section class=" d-flex direction-column flex-start middle-align" id="browse-dashboard">
        <div>
            <!--trailer video-->
            <img class="hero-background-image"
                 src="https://bloganh.net/wp-content/uploads/2021/03/chup-anh-dep-anh-sang-min.jpg"/>
            <!--left shadow-->
            <div class="shadow-layer"></div>
        </div>

        <div class="container text-container" style="z-index: 5; height: 250px">
        </div>
    </section>
</div>

<!--paretn div with black bg after main hero section-->
<div class="black-background">
    <section class="container" id="mylist" th:if="${myList.size()!=0}">
        <h4 class="mylist-heading" >
            Phim yêu thích
        </h4>


        <div class="mylist-container d-flex flex-start flex-middle flex-no-wrap owl-carousel">
            <th:block th:each="item, istat: ${myList}">
                <div class="video">
                    <th:block th:each="image:${item.images}">
                        <img th:if="${image.type =='poster'}" alt=""
                             class="mylist-img p-r-10 p-t-10 video-item"
                             th:src="${image.source}">
                    </th:block>
                    <div class="video-description d-flex flex-end direction-column">
                        <div class="play-button" th:id="${item.id}">
                            <svg viewBox="0 0 24 24">
                                <path d="M6 4l15 8-15 8z" fill="black"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="heading f-w-8 text-shadow"
                                th:text="${item.title}">
                            </h4>
                        </div>
                        <div class="info d-flex flex-middle flex-no-wrap">
                            <p class="rated text-shadow"><strong>18+</strong></p>
                            <p class="season-count text-shadow"> 1 Season</p>
                        </div>
                        <div class="genere text-shadow">
                            <th:block th:each="genre:${item.getGenres()}">
                                <p th:text="${genre.getName()}"></p>
                            </th:block>
                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </section>

    <!-- continure watching -->
    <section class="container p-t-40" id="continue-watching">
        <h4 class="continue-watching-heading">
            Phim mới cập nhật
        </h4>

        <div class="continue-watching-container d-flex flex-start flex-middle flex-no-wrap owl-carousel">

            <th:block th:each="item, state:${newPosts}">
                <div class="video">
                    <th:block th:each="image:${item.images}">
                        <img th:if="${image.type =='poster'}" alt=""
                             class="mylist-img p-r-10 p-t-10 video-item"
                             th:src="${image.source}">
                    </th:block>
                    <div class="video-description d-flex flex-end direction-column">
                        <div class="play-button" th:id="${item.id}">
                            <svg viewBox="0 0 24 24">
                                <path d="M6 4l15 8-15 8z" fill="black"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="heading f-w-8 text-shadow" th:text="${item.getTitle()}">
                            </h4>
                        </div>
                        <div class="info d-flex flex-middle flex-no-wrap">

                        </div>
                        <div class="genere text-shadow">
                            <th:block th:each="genre:${item.getGenres()}">
                                <p th:text="${genre.getName()}"></p>
                            </th:block>
                        </div>
                    </div>
                </div>
            </th:block>

        </div>
    </section>

    <!-- Get In On the Action -->
    <section class="container p-t-40">
        <h4 class="romantic-heading">
            Phim Chiếu Rạp
        </h4>
        <div class="continue-watching-container d-flex flex-start flex-middle flex-no-wrap owl-carousel">

            <th:block th:each="item, state:${theatersMovie}">
                <div class="video">
                    <th:block th:each="image:${item.images}">
                        <img th:if="${image.type =='poster'}" alt=""
                             class="mylist-img p-r-10 p-t-10 video-item"
                             th:src="${image.source}">
                    </th:block>

                    <div class="video-description d-flex flex-end direction-column">
                        <div class="play-button" th:id="${item.id}">
                            <svg viewBox="0 0 24 24">
                                <path d="M6 4l15 8-15 8z" fill="black"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="heading f-w-8 text-shadow" th:text="${item.getTitle()}">

                            </h4>
                        </div>
                        <div class="info d-flex flex-middle flex-no-wrap">

                        </div>
                        <div class="genere text-shadow">
                            <th:block th:each="genre:${item.getGenres()}">
                                <p th:text="${genre.getName()}"></p>
                            </th:block>
                        </div>
                    </div>
                </div>
            </th:block>

        </div>
    </section>

    <!-- Bingeworthy TV Shows -->
    <section class="container p-t-40">
        <h4 class="romantic-heading">
            Phim truyền hình
        </h4>
        <div class="continue-watching-container d-flex flex-start flex-middle flex-no-wrap owl-carousel">
            <th:block th:each="item, state:${tvSeriesMovie}">
                <div class="video">

                    <th:block th:each="image:${item.images}">
                            <img th:if="${image.type =='poster'}" alt=""
                                 class="mylist-img p-r-10 p-t-10 video-item"
                                 th:src="${image.source}">
                    </th:block>



                    <div class="video-description d-flex flex-end direction-column">
                        <div class="play-button" th:id="${item.id}">
                            <svg viewBox="0 0 24 24">
                                <path d="M6 4l15 8-15 8z" fill="black"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="heading f-w-8 text-shadow" th:text="${item.getTitle()}">

                            </h4>
                        </div>
                        <div class="info d-flex flex-middle flex-no-wrap">

                        </div>
                        <div class="genere text-shadow">
                            <th:block th:each="genre:${item.getGenres()}">
                                <p th:text="${genre.getName()}"></p>
                            </th:block>
                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </section>

    <!--  Hollywood Action movies -->
    <section class="container p-t-40">
        <h4 class="romantic-heading">
            Phim Hoạt Hình
        </h4>
        <div class="continue-watching-container d-flex flex-start flex-middle flex-no-wrap owl-carousel">
            <th:block th:each="item, state:${cartoonMovie}">
                <div class="video">

                    <th:block th:each="image:${item.images}">
                        <img th:if="${image.type =='poster'}" alt=""
                             class="mylist-img p-r-10 p-t-10 video-item"
                             th:src="${image.source}">
                    </th:block>

                    <div class="video-description d-flex flex-end direction-column">
                        <div class="play-button" th:id="${item.id}">
                            <svg viewBox="0 0 24 24">
                                <path d="M6 4l15 8-15 8z" fill="black"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="heading f-w-8 text-shadow" th:text="${item.getTitle()}">

                            </h4>
                        </div>
                        <div class="info d-flex flex-middle flex-no-wrap">

                        </div>
                        <div class="genere text-shadow">
                            <th:block th:each="genre:${item.getGenres()}">
                                <p th:text="${genre.getName()}"></p>
                            </th:block>
                        </div>
                    </div>
                </div>
            </th:block>
        </div>
    </section>
</div>
<footer th:replace="web/layout/footer ::footer">

</footer>
<script type="application/javascript">
    $(document).ready(function (){
        $(".play-button").click(function (){
            let id= $(this).attr("id");
            let url="http://localhost:8080/home/movie?id="+id;
            window.location.replace(url)
        });
    })
</script>
</body>
</html>